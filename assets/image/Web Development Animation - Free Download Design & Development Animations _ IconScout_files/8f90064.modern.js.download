(window.webpackJsonp=window.webpackJsonp||[]).push([[29,405],{1156:function(e,t,o){var content=o(1239);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(42).default)("4a5c26ad",content,!0,{sourceMap:!1})},1167:function(e,t,o){var content=o(1319);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(42).default)("05a1da48",content,!0,{sourceMap:!1})},1193:function(e,t,o){"use strict";var r=o(1401),l=o(1129),n={components:{UilAngleLeftB:r.a,UilAngleRightB:l.a},props:{noControls:{type:Boolean,default:!1},compressed:{type:Boolean,default:!1}},data:()=>({canScrollLeft:!1,canScrollRight:!1}),mounted(){this.$nextTick((()=>{this.$refs.scroller&&this.setNextPrev()}))},methods:{setNextPrev(){this.canScrollLeft=this.$refs.scroller.scrollLeft>0,this.canScrollRight=this.$refs.scroller.scrollLeft+this.$refs.scroller.offsetWidth<this.$refs.scroller.scrollWidth},swipeLeft(){var e=this.$refs.scroller.clientWidth-Math.round(this.$refs.scroller.clientWidth/4);this.$refs.scroller.scrollTo({left:this.$refs.scroller.scrollLeft-e,behavior:"smooth"}),window.setTimeout((()=>{this.setNextPrev()}),200)},swipeRight(){var e=this.$refs.scroller.clientWidth-Math.round(this.$refs.scroller.clientWidth/4);this.$refs.scroller.scrollTo({left:this.$refs.scroller.scrollLeft+e,behavior:"smooth"}),window.setTimeout((()=>{this.setNextPrev()}),200)}}},c=o(1238),h=o(8);var component=Object(h.a)(n,(function(){var e=this,t=e._self._c;return t("div",{class:e.$style.container},[t("div",{ref:"scroller",class:["horizontalScroll",e.$style.scroller,e.$style.xScroll,{"py-0":e.compressed,[e.$style.noControls]:e.noControls}],on:{scroll:e.setNextPrev}},[e._t("default"),e._v(" "),t("div",[e.canScrollLeft?t("div",{class:["shadow-left",e.$style.shadowLeft]},[t("button",{class:["btn btn-default btn-icon",e.$style.left],attrs:{type:"button"},on:{click:e.swipeLeft}},[t("uil-angle-left-b")],1)]):e._e(),e._v(" "),e.canScrollRight?t("div",{class:["shadow-right",e.$style.shadowRight]},[t("button",{class:["btn btn-default btn-icon",e.$style.right],attrs:{type:"button"},on:{click:e.swipeRight}},[t("uil-angle-right-b")],1)]):e._e()])],2)])}),[],!1,(function(e){this.$style=c.default.locals||c.default}),null,null);t.a=component.exports},1202:function(e,t,o){var content=o(1277);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(42).default)("56ef606a",content,!0,{sourceMap:!1})},1204:function(e,t,o){"use strict";o.d(t,"a",(function(){return v}));var r=o(10),l=o(5),n=o(1663),c=o.n(n),h={removeDoctype:!0,removeXMLProcInst:!0,removeComments:!0,removeMetadata:!0,removeXMLNS:!1,removeEditorsNSData:!0,cleanupAttrs:!1,inlineStyles:{onlyMatchedOnce:!1},minifyStyles:!0,convertStyleToAttrs:!0,cleanupIDs:!0,prefixIds:!1,removeRasterImages:!0,removeUselessDefs:!0,cleanupNumericValues:!0,cleanupListOfValues:!0,convertColors:!0,removeUnknownsAndDefaults:!0,removeNonInheritableGroupAttrs:!0,removeUselessStrokeAndFill:!0,removeViewBox:!1,cleanupEnableBackground:!1,removeHiddenElems:!1,removeEmptyText:!0,convertShapeToPath:!1,moveElemsAttrsToGroup:!1,moveGroupAttrsToElems:!1,collapseGroups:!0,convertPathData:!1,convertTransform:!0,removeEmptyAttrs:!0,removeEmptyContainers:!0,mergePaths:!0,removeUnusedNS:!0,sortAttrs:!0,removeTitle:!0,removeDesc:!0,removeDimensions:!0,removeAttrs:!1,removeElementsByAttr:!1,addClassesToSVGElement:!1,removeStyleElement:!0,removeScriptElement:!0,addAttributesToSVGElement:!1};function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v=function(){var e=Object(l.a)((function*(content){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=c()(m(m({},h),e)),o=yield t.optimize(content);return o.data}));return function(t){return e.apply(this,arguments)}}()},1216:function(e,t,o){"use strict";t.a={data:()=>({unsubscribe:null}),destroyed(){this.stopWatch()},methods:{startWatch(){this.unsubscribe||(this.unsubscribe=this.$store.subscribe(((e,t)=>{"settings/setPaletteId"===e.type&&this.$nextTick((()=>{this.onPaletteSelected(t)})),"brandPalettes/setAll"===e.type&&this.$nextTick((()=>{this.onPalettesLoaded(t)}))})))},stopWatch(){this.unsubscribe&&this.unsubscribe(),this.unsubscribe=null},onPalettesLoaded(){},onPaletteSelected(){}}}},1236:function(e,t,o){"use strict";o.d(t,"a",(function(){return c})),o.d(t,"b",(function(){return h}));var r=o(10);o(520),o(43),o(54),o(1485);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}var n=o(1246),c=function(e,t){for(var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],i=0;i<e.length;i++){var l=n(e[i]).toHsl();l.h=Number(t),null!==o&&(l.s=Number(o)/100),r.push(n(l).toHexString())}return r},h=(e,t)=>{var o=e.map(((e,t)=>({hsl:n(e).toHsl(),index:t,isMostNearer:!1}))),r=t.map(((e,t)=>({hsl:n(e).toHsl(),index:t,fillColorIndexes:[]})));return o.forEach(((e,t)=>{var o=m(r.map((e=>e.hsl)),e.hsl);r[o.index].fillColorIndexes.push({index:t,distance:o.distance})})),r.forEach((e=>{e.fillColorIndexes=e.fillColorIndexes.sort(((a,b)=>a.distance-b.distance)),e.fillColorIndexes.length&&(o[e.fillColorIndexes[0].index].isMostNearer=!0)})),r.filter((e=>!e.fillColorIndexes.length)).forEach((e=>{var t=o.filter((e=>!e.isMostNearer));if(t.length){var l=m(t.map((e=>e.hex)),e.hex),n=t[l.index],c=o[n.index];r.filter((e=>e.fillColorIndexes.length)).forEach((e=>{e.fillColorIndexes.map((e=>e.index)).includes(c.index)&&(e.fillColorIndexes=e.fillColorIndexes.filter((e=>e.index!==c.index)))})),e.fillColorIndexes.push({index:c.index,distance:l.distance}),o[c.index].isMostNearer=!0}})),r.filter((e=>e.fillColorIndexes.length)).forEach((e=>{e.fillColorIndexes.forEach(((t,l)=>{o[t.index].hsl=0===l?e.hsl:d({paletteColors:r.map((e=>e.hsl)),paletteColor:e.hsl,fillColor:o[t.index].hsl})}))})),o.map((e=>n(e.hsl).toHexString()))},d=e=>{var{paletteColors:t,paletteColor:o,fillColor:n}=e,c=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},n);if(1===o.l){var h=t.filter((e=>!(0===e.l||1===e.l||0===e.s)));if(h.length){var d=h[m(h,o).index];c.h=d.h}else c.s=0}else 0===o.s||0===o.l?c.s=0:c.h=o.h;return c},m=(e,t)=>{var o=e.map((e=>v({color1:t,color2:e}))),r=Math.min.apply(Math,o);return{distance:r,index:o.indexOf(r)}},v=e=>{var{color1:t,color2:o}=e,r=f(t),l=f(o);return Math.hypot(l.x-r.x,l.y-r.y,l.z-r.z)},f=e=>{var t=n(e).toRgb();return{x:t.r,y:t.g,z:t.b}}},1238:function(e,t,o){"use strict";var r=o(1156),l=o.n(r);o.d(t,"default",(function(){return l.a}))},1239:function(e,t,o){var r=o(41)(!1);r.push([e.i,".container_7Lpmc{position:relative;margin:0 auto}.container_7Lpmc .scroller_80Fuk{width:100%;white-space:nowrap;overflow-x:scroll;padding:.5rem 0;scrollbar-width:0}.container_7Lpmc .scroller_80Fuk.xScroll_KAkK9{scroll-snap-type:x mandatory}.container_7Lpmc .scroller_80Fuk::-webkit-scrollbar{width:0 !important;height:0 !important}.container_7Lpmc .scroller_80Fuk ul>li{scroll-margin:30px;scroll-snap-align:start;scroll-snap-stop:normal}.container_7Lpmc .scroller_80Fuk .left_OlSMW{position:absolute;top:50%;z-index:1000;transform:translateY(-50%);left:-10px;border-radius:50%;box-shadow:0 5px 10px 0 rgba(18,54,153,0.1)}.container_7Lpmc .scroller_80Fuk .right_cpeZq{position:absolute;top:50%;z-index:1000;transform:translateY(-50%);right:-10px;border-radius:50%;box-shadow:0 5px 10px 0 rgba(18,54,153,0.1)}.container_7Lpmc .scroller_80Fuk .shadowLeft_SRk-t:after{content:'';position:absolute;top:0;bottom:0;left:0;width:100px;pointer-events:none;z-index:10;background:linear-gradient(-90deg, rgba(255,255,255,0), #fff)}.container_7Lpmc .scroller_80Fuk .shadowRight_IoFRY:after{content:'';position:absolute;top:0;bottom:0;right:0;width:100px;pointer-events:none;z-index:10;background:linear-gradient(90deg, rgba(255,255,255,0), #fff)}.container_7Lpmc .scroller_80Fuk.noControls_skM6S .shadowLeft_SRk-t,.container_7Lpmc .scroller_80Fuk.noControls_skM6S .shadowRight_IoFRY{display:none}\n",""]),r.locals={container:"container_7Lpmc",scroller:"scroller_80Fuk",xScroll:"xScroll_KAkK9",left:"left_OlSMW",right:"right_cpeZq",shadowLeft:"shadowLeft_SRk-t",shadowRight:"shadowRight_IoFRY",noControls:"noControls_skM6S"},e.exports=r},1245:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var r=(e,t)=>"tour-".concat(e,"-").concat(t)},1276:function(e,t,o){"use strict";o(1202)},1277:function(e,t,o){var r=o(41)(!1);r.push([e.i,".toggleSwitch label{display:block;position:relative;margin:0;cursor:pointer}.toggleSwitch label input[type='checkbox']{display:none}.toggleSwitch label:before{display:block;content:'' !important;width:36px;height:20px;background:#B4BAD6;border-radius:15px;border:none;margin:0;transition:0.22s background}.toggleSwitch label:after{content:'' !important;display:block;width:16px;height:16px;border-radius:15px;position:absolute;top:2px;left:2px;box-shadow:0 0 8px #8F95B3;background:#fff;transition:0.22s margin-left}.toggleSwitch label.toggleChecked:before{background:#24A8AF}.toggleSwitch label.toggleChecked:after{background:white;margin-left:calc(100% - 20px)}\n",""]),e.exports=r},1279:function(e,t,o){"use strict";var r={props:{value:{type:Boolean,default:!1}},data(){return{checked:this.value}},watch:{value(e){this.checked=e}},methods:{onChange(e){this.$emit("input",this.checked)}}},l=(o(1276),o(8)),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"toggleSwitch"},[t("label",{class:e.checked?"toggleChecked":""},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:[function(t){var o=e.checked,r=t.target,l=!!r.checked;if(Array.isArray(o)){var n=e._i(o,null);r.checked?n<0&&(e.checked=o.concat([null])):n>-1&&(e.checked=o.slice(0,n).concat(o.slice(n+1)))}else e.checked=l},e.onChange]}})])])}),[],!1,null,null,null);t.a=component.exports},1301:function(e,t,o){e.exports=o.p+"img/watermark.aec39ca.svg"},1314:function(e,t,o){"use strict";o.r(t);var r={components:{Lottie:o(172).default},props:{width:{type:Number,default:null},height:{type:Number,default:null},observe:{type:Boolean,default:!0}}},l=o(1318),n=o(8);var component=Object(n.a)(r,(function(){var e=this,t=e._self._c;return t("div",{class:e.$style.container},[t("lottie",e._b({attrs:{width:e.width,height:e.height,observe:e.observe,"animation-name":"Loader",loop:""}},"lottie",e.$attrs,!1))],1)}),[],!1,(function(e){this.$style=l.default.locals||l.default}),null,null);t.default=component.exports},1318:function(e,t,o){"use strict";var r=o(1167),l=o.n(r);o.d(t,"default",(function(){return l.a}))},1319:function(e,t,o){var r=o(41)(!1);r.push([e.i,".container_V42UB{position:absolute;top:0;left:0;z-index:100;width:100%;height:100%;display:flex;align-items:center;justify-content:center}\n",""]),r.locals={container:"container_V42UB"},e.exports=r},1399:function(e,t,o){e.exports=o.p+"img/featured.80c46c1.svg"},1437:function(e,t,o){"use strict";var r={props:{size:{type:String,default:"1em"}}},l=o(8),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M18.71,7.21a1,1,0,0,0-1.42,0L9.84,14.67,6.71,11.53A1,1,0,1,0,5.29,13l3.84,3.84a1,1,0,0,0,1.42,0l8.16-8.16A1,1,0,0,0,18.71,7.21Z"}})])}),[],!1,null,null,null);t.a=component.exports},1664:function(e,t){},1665:function(e,t){},2420:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var r=o(5),l=(o(27),o(29),o(38),o(337));function n(e,t){var o=Object(l.debounce)(function(){var t=Object(r.a)((function*(t,o,r,l){try{t(yield e.bind(r)(...l))}catch(e){o(e)}}));return function(e,o,r,l){return t.apply(this,arguments)}}(),t);return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Promise(((e,r)=>{o(e,r,this,t)}))}}},2437:function(e,t,o){"use strict";var r={props:{size:{type:String,default:"1em"}}},l=o(8),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M10,18a1,1,0,0,0,1-1V11a1,1,0,0,0-2,0v6A1,1,0,0,0,10,18ZM20,6H16V5a3,3,0,0,0-3-3H11A3,3,0,0,0,8,5V6H4A1,1,0,0,0,4,8H5V19a3,3,0,0,0,3,3h8a3,3,0,0,0,3-3V8h1a1,1,0,0,0,0-2ZM10,5a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1V6H10Zm7,14a1,1,0,0,1-1,1H8a1,1,0,0,1-1-1V8H17Zm-3-1a1,1,0,0,0,1-1V11a1,1,0,0,0-2,0v6A1,1,0,0,0,14,18Z"}})])}),[],!1,null,null,null);t.a=component.exports},2438:function(e,t,o){"use strict";var r={props:{size:{type:String,default:"1em"}}},l=o(8),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M22,7.24a1,1,0,0,0-.29-.71L17.47,2.29A1,1,0,0,0,16.76,2a1,1,0,0,0-.71.29L13.22,5.12h0L2.29,16.05a1,1,0,0,0-.29.71V21a1,1,0,0,0,1,1H7.24A1,1,0,0,0,8,21.71L18.87,10.78h0L21.71,8a1.19,1.19,0,0,0,.22-.33,1,1,0,0,0,0-.24.7.7,0,0,0,0-.14ZM6.83,20H4V17.17l9.93-9.93,2.83,2.83ZM18.17,8.66,15.34,5.83l1.42-1.41,2.82,2.82Z"}})])}),[],!1,null,null,null);t.a=component.exports},2439:function(e,t,o){"use strict";var r={props:{size:{type:String,default:"1em"}}},l=o(8),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M21,8.94a1.31,1.31,0,0,0-.06-.27l0-.09a1.07,1.07,0,0,0-.19-.28h0l-6-6h0a1.07,1.07,0,0,0-.28-.19.32.32,0,0,0-.09,0A.88.88,0,0,0,14.05,2H10A3,3,0,0,0,7,5V6H6A3,3,0,0,0,3,9V19a3,3,0,0,0,3,3h8a3,3,0,0,0,3-3V18h1a3,3,0,0,0,3-3V9S21,9,21,8.94ZM15,5.41,17.59,8H16a1,1,0,0,1-1-1ZM15,19a1,1,0,0,1-1,1H6a1,1,0,0,1-1-1V9A1,1,0,0,1,6,8H7v7a3,3,0,0,0,3,3h5Zm4-4a1,1,0,0,1-1,1H10a1,1,0,0,1-1-1V5a1,1,0,0,1,1-1h3V7a3,3,0,0,0,3,3h3Z"}})])}),[],!1,null,null,null);t.a=component.exports},2457:function(e,t,o){"use strict";var r={props:{size:{type:String,default:"1em"}}},l=o(8),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M17,11H9.41l3.3-3.29a1,1,0,1,0-1.42-1.42l-5,5a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l5,5a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L9.41,13H17a1,1,0,0,0,0-2Z"}})])}),[],!1,null,null,null);t.a=component.exports},2458:function(e,t,o){"use strict";var r={props:{size:{type:String,default:"1em"}}},l=o(8),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M12,10c-1.1,0-2,0.9-2,2s0.9,2,2,2s2-0.9,2-2S13.1,10,12,10z M12,7c1.1,0,2-0.9,2-2s-0.9-2-2-2s-2,0.9-2,2S10.9,7,12,7z M12,17c-1.1,0-2,0.9-2,2s0.9,2,2,2s2-0.9,2-2S13.1,17,12,17z"}})])}),[],!1,null,null,null);t.a=component.exports},2521:function(e,t,o){"use strict";var r={props:{size:{type:String,default:"1em"}}},l=o(8),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8,8,0,0,1,12,20Zm4-9H13V8a1,1,0,0,0-2,0v3H8a1,1,0,0,0,0,2h3v3a1,1,0,0,0,2,0V13h3a1,1,0,0,0,0-2Z"}})])}),[],!1,null,null,null);t.a=component.exports},2522:function(e,t,o){"use strict";var r={props:{size:{type:String,default:"1em"}}},l=o(8),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("svg",e._b({staticClass:"ui-svg-inline",attrs:{width:e.size,height:e.size,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}},"svg",e.$attrs,!1),[t("path",{attrs:{d:"M21,11a1,1,0,0,0-1,1,8.05,8.05,0,1,1-2.22-5.5h-2.4a1,1,0,0,0,0,2h4.53a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4.77A10,10,0,1,0,22,12,1,1,0,0,0,21,11Z"}})])}),[],!1,null,null,null);t.a=component.exports},2647:function(e,t,o){"use strict";var r=o(5),l=o(10),n=(o(239),o(24),o(37),o(2815)),c=o(25),h=o.n(c),d=o(1661),m=o.n(d),v=o(1662),f=o.n(v),y=o(333),x=o.n(y),w=o(62),S=o.n(w),C=o(128),k=o.n(C),P=o(1327),T=o.n(P),H=o(1235),O=o(1204),z=o(1192),_=o(23),$=o(61),j=(o(38),o(2420)),E=o(2722),I=o.n(E),B=o(1236),L={colorsinspo:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={tab:e.tab,colors:e.colors.map((e=>e.hex)),brandPaletteId:e.selectedPalette?e.selectedPalette.id:null},{palette:r}=t;"re-color"!==o.tab&&(e.tab="re-color");var l=Object(B.b)(e.colors.map((e=>e.originalHex)),r.colors);return e.colors.forEach(((t,o)=>{e["fill".concat(t.element,"Color")](e.colors[o].originalHex,l[o]),e.colors[o].hex=l[o],e.colors[o].lastHex=l[o]})),e.$store.dispatch("brandPalettes/setSelected",null),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.tab=t.tab,e.colors.forEach(((o,r)=>{e["fill".concat(o.element,"Color")](e.colors[r].originalHex,t.colors[r]),e.colors[r].hex=t.colors[r]})),e.$store.dispatch("brandPalettes/setSelected",t.brandPaletteId)}},brandPalette:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={brandPaletteId:e.selectedPalette?e.selectedPalette.id:null,colors:e.colors.map((e=>e.hex)),brandColorApplied:e.brandColorApplied},{palette:r}=t;e.$store.dispatch("brandPalettes/setSelected",r.id);var l=Object(B.b)(e.colors.map((e=>e.originalHex)),r.colors);return e.colors.forEach(((t,o)=>{e["fill".concat(t.element,"Color")](e.colors[o].originalHex,l[o]),e.colors[o].hex=l[o]})),e.brandColorApplied=!0,o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.$store.dispatch("brandPalettes/setSelected",t.brandPaletteId),e.colors.forEach(((o,r)=>{e["fill".concat(o.element,"Color")](e.colors[r].originalHex,t.colors[r]),e.colors[r].hex=t.colors[r]})),e.brandColorApplied=t.brandColorApplied}},resetBrandPalette:{execute(e){var t={brandPaletteId:e.selectedPalette?e.selectedPalette.id:null,brandColorApplied:e.brandColorApplied},o=I()(e.history,(e=>"brandPalette"===e.command));if(o){var r=o.prevState.colors;e.colors.forEach(((t,o)=>{e["fill".concat(t.element,"Color")](e.colors[o].originalHex,r[o]),e.colors[o].hex=r[o]})),e.$store.dispatch("brandPalettes/setSelected",null),e.brandColorApplied=!1}return t},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.$store.state.brandPalettes.palettes.find((e=>e.id===t.brandPaletteId));o&&e.execute({command:"brandPalette",state:{palette:o},options:{skipHistory:!0}})}},fillColor:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{color:o,index:r}=t,l={tab:e.tab,color:e.colors[r].hex,index:r,brandPaletteId:e.selectedPalette?e.selectedPalette.id:null};return e.tab="re-color",e["fill".concat(e.colors[r].element,"Color")](e.colors[r].originalHex,o.hex),e.colors[r].hex=o.hex,e.colors[r].lastHex=o.hex,e.$store.dispatch("brandPalettes/setSelected",null),l},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.tab=t.tab,e["fill".concat(e.colors[t.index].element,"Color")](e.colors[t.index].originalHex,t.color),e.colors[t.index].hex=t.color,e.colors[t.index].lastHex=t.color,e.$store.dispatch("brandPalettes/setSelected",t.brandPaletteId)}},tab:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={showTileTab:e.showTileTab,tab:e.tab,colors:e.colors.map((e=>e.hex)),brandPaletteId:e.brandColorApplied&&e.selectedPalette?e.selectedPalette.id:null},{tab:r}=t;if(e.showTileTab=!1,e.tab===r)e.tab=null;else switch(e.tab=r,r){case"re-color":if(o.brandPaletteId){var l=e.$store.state.brandPalettes.palettes.find((p=>p.id===o.brandPaletteId));l&&e.execute({command:"brandPalette",state:{palette:l},options:{skipHistory:!0}}),e.$store.dispatch("brandPalettes/setSelected",o.brandPaletteId)}else e.execute({command:"reColor",state:{colors:e.colors.map((e=>e.lastHex))},options:{skipHistory:!0}});break;case"monochrome":e.execute({command:"monochrome",state:{hue:e.monochromeHue,showCustomSaturation:e.showCustomSaturation,saturation:e.monochromeSaturation},options:{skipHistory:!0}});break;case"grayTone":e.execute({command:"grayTone",state:{hue:e.grayToneHue,saturation:e.grayToneSaturation},options:{skipHistory:!0}})}return o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.showTileTab=t.showTileTab,e.tab=t.tab,e.tab){case"re-color":if(t.brandPaletteId){var o=e.$store.state.brandPalettes.palettes.find((p=>p.id===t.brandPaletteId));o&&e.execute({command:"brandPalette",state:{palette:o},options:{skipHistory:!0}}),e.$store.dispatch("brandPalettes/setSelected",t.brandPaletteId)}else e.execute({command:"reColor",state:{colors:t.colors},options:{skipHistory:!0}});break;case"monochrome":e.execute({command:"monochrome",state:{hue:e.monochromeHue,showCustomSaturation:e.showCustomSaturation,saturation:e.monochromeSaturation},options:{skipHistory:!0}});break;case"grayTone":e.execute({command:"grayTone",state:{hue:e.grayToneHue,saturation:e.grayToneSaturation},options:{skipHistory:!0}});break;case null:e.colors.forEach(((o,r)=>{e["fill".concat(o.element,"Color")](e.colors[r].originalHex,t.colors[r]),e.colors[r].hex=t.colors[r]}))}}},tileTab:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={tab:e.tab,showTileTab:e.showTileTab,tileType:e.tileType},{tab:r,showTileTab:l}=t;return e.tab=r,e.showTileTab=l,l&&"none"===e.tileType.name&&e.execute({command:"tileType",state:{tile:e.tile,tileType:e.tiles[1],tileBorderRadius:e.tileBorderRadius,iconSize:e.iconSize,tileSize:e.tileSize},options:{skipHistory:!0}}),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.tab=t.tab,e.showTileTab=t.showTileTab,e.execute({command:"tileType",state:{tile:e.tile,tileType:t.tileType,tileBorderRadius:e.tileBorderRadius,iconSize:e.iconSize,tileSize:e.tileSize},options:{skipHistory:!0}})}},reColor:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.colors.forEach(((o,r)=>{e["fill".concat(o.element,"Color")](e.colors[r].originalHex,t.colors[r]),e.colors[r].hex=t.colors[r],e.colors[r].lastHex=t.colors[r]})),e.selectedPalette&&e.$store.dispatch("brandPalettes/setSelected",e.selectedPalette.id)},undo(){}},monochrome:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{hue:o,showCustomSaturation:r,saturation:l}=t,n={brandPaletteId:e.selectedPalette?e.selectedPalette.id:null,colors:e.colors.map((e=>e.hex)),hue:e.monochromeHue,saturation:e.monochromeSaturation,showCustomSaturation:r};e.monochromeHue=o,e.showCustomSaturation=r,r&&(e.monochromeSaturation=l);var c=Object(B.a)(e.colors.map((e=>e.lastHex)),o,r?l:null);return e.colors.forEach(((t,o)=>{e["fill".concat(t.element,"Color")](e.colors[o].originalHex,c[o]),e.colors[o].hex=c[o]})),n},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.monochromeHue=t.hue,e.showCustomSaturation=t.showCustomSaturation,t.showCustomSaturation&&(e.monochromeSaturation=t.saturation),e.colors.forEach(((o,r)=>{e["fill".concat(o.element,"Color")](e.colors[r].originalHex,t.colors[r]),e.colors[r].hex=t.colors[r]})),e.$store.dispatch("brandPalettes/setSelected",t.brandPaletteId)}},toggleMonochromeSaturation:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={showCustomSaturation:e.showCustomSaturation},{showCustomSaturation:r}=t;return e.showCustomSaturation=!r,e.execute({command:"monochrome",state:{hue:e.monochromeHue,showCustomSaturation:e.showCustomSaturation,saturation:e.showCustomSaturation?e.monochromeSaturation:null},options:{skipHistory:!0}}),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.showCustomSaturation=t.showCustomSaturation,e.execute({command:"monochrome",state:{hue:e.monochromeHue,showCustomSaturation:e.showCustomSaturation,saturation:e.showCustomSaturation?e.monochromeSaturation:null},options:{skipHistory:!0}})}},grayTone:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={brandPaletteId:e.selectedPalette?e.selectedPalette.id:null,colors:e.colors.map((e=>e.hex)),hue:e.grayToneHue,saturation:e.grayToneSaturation},{hue:r,saturation:l}=t;e.grayToneHue=r,e.grayToneSaturation=l;var n=Object(B.a)(e.colors.map((e=>e.lastHex)),e.grayToneHue,e.grayToneSaturation);return e.colors.forEach(((t,o)=>{e["fill".concat(t.element,"Color")](e.colors[o].originalHex,n[o]),e.colors[o].hex=n[o]})),e.$store.dispatch("brandPalettes/setSelected",null),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.grayToneHue=t.hue,e.grayToneSaturation=t.saturation,e.colors.forEach(((o,r)=>{e["fill".concat(o.element,"Color")](e.colors[r].originalHex,t.colors[r]),e.colors[r].hex=t.colors[r]})),e.$store.dispatch("brandPalettes/setSelected",t.brandPaletteId)}},tileType:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={tile:e.tile,tileType:e.tileType,iconSize:e.iconSize,tileSize:e.tileSize,tileBorderRadius:e.tileBorderRadius},{tileType:r}=t;return A(e,t),e.execute({command:"iconSize",state:{scale:"none"===r.name?1:r.icon},options:{skipHistory:!0}}),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.tile&&e.tile.remove(),A(e,t),e.execute({command:"iconSize",state:{scale:"none"===t.tileType.name?1:t.iconSize},options:{skipHistory:!0}})}},iconSize:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={scale:e.iconSize},{scale:r}=t;return e.iconSize=Number(r),e.icon&&e.icon.transform({scale:r}),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.iconSize=t.scale,e.icon&&e.icon.transform({scale:t.scale})}},tileSize:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={scale:e.tileSize},{scale:r}=t;return e.tileSize=Number(r),e.tile&&e.tile.transform({scale:r}),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.tileSize=t.scale,e.tile&&e.tile.transform({scale:t.scale})}},tileBorderRadius:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={radius:e.tileBorderRadius},{radius:r}=t;return e.tileBorderRadius=r,M(e,{radius:r}),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.tileBorderRadius=t.radius,M(e,{radius:t.radius})}},tileColor:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={color:e.tileColor},{color:r}=t;return e.tileColor=r,e.tile&&e.tile.fill(r),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.tileColor=t.color,e.tile&&e.tile.fill(t.color)}},deleteElement:{execute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o={element:t.element,index:t.index,fillElements:t.fillElements};return t.element.remove(),o},undo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.draw.select(t.fillElements).members;o.splice(t.index,0,t.element);var svg=T()(e.icon.node.childNodes[0]);svg.clear(),o.forEach(((element,e)=>{0!==e&&element instanceof T.a.Element&&svg.add(element)}))}}},A=(e,t)=>{var{tileType:o,tileSize:r}=t;switch(e.tile&&e.tile.remove(),e.tileType=o,o.name){case"none":e.tile=null;break;case"square":e.tile=e.draw.rect(e.canvasWidth,e.canvasHeight).radius(e.tileBorderRadius);break;case"squircle":var l=e.canvasWidth,n=l/2,c=l-5;e.tile=e.draw.path("M ".concat(n,",0 C ").concat(5,",0 0,").concat(5," 0,").concat(n," 0,").concat(c," ").concat(5,",").concat(l," ").concat(n,",").concat(l," ").concat(c,",").concat(l," ").concat(l,",").concat(c," ").concat(l,",").concat(n," ").concat(l,",").concat(5," ").concat(c,",0 ").concat(n,",0 Z"));break;case"circle":e.tile=e.draw.circle(e.canvasWidth,e.canvasHeight);break;case"beacon":e.tile=e.draw.group(),e.tile.circle(e.canvasWidth,e.canvasHeight),e.tile.rect(e.canvasWidth/2+e.tileBorderRadius,e.canvasHeight/2+e.tileBorderRadius).move(e.canvasWidth/2-e.tileBorderRadius,e.canvasHeight/2-e.tileBorderRadius).radius(e.tileBorderRadius)}e.tile&&e.tile.back(),e.execute({command:"tileSize",state:{scale:r},options:{skipHistory:!0}}),e.tile&&e.tile.back().fill(e.tileColor).transform({scale:e.tileSize})},M=(e,t)=>{var{radius:o}=t;if(e.tileType)if("square"===e.tileType.name)e.tile.radius(o);else if("beacon"===e.tileType.name){e.tile.select("rect").members[0].size(e.canvasWidth/2+o,e.canvasHeight/2+o).move(e.canvasWidth/2-o,e.canvasHeight/2-o).radius(o)}};function R(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function N(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?R(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):R(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var D={data:()=>({history:[],position:-1,holdState:null,disableTimeTravel:!1}),mounted(){window.addEventListener("keydown",this.keyEventHandler)},destroyed(){window.removeEventListener("keydown",this.keyEventHandler)},computed:{unDoable(){return!!(!this.disableTimeTravel&&this.history.length&&this.position>=0)},reDoable(){return!!(!this.disableTimeTravel&&this.history.length&&this.position<this.history.length-1)}},methods:{keyEventHandler(e){(e.ctrlKey||e.metaKey)&&"KeyZ"===e.code&&(e.preventDefault(),e.shiftKey?(this.reDoable&&this.$analytics.track("editor",{action:"redo",via:"keyboard"}),this.redo()):(this.unDoable&&this.$analytics.track("editor",{action:"undo",via:"keyboard"}),this.undo()))},set(e){this.position<this.history.length-1&&(this.history=this.history.slice(0,this.position+1)),this.history.push(e),this.history.length>40&&this.history.splice(1,1),this.position=this.history.length-1},setLazy:Object(j.a)((function(e){this.position<this.history.length-1&&(this.history=this.history.slice(0,this.position+1));var t=this.holdState;return this.history.push(N(N({},e),{},{prevState:t})),this.history.length>40&&this.history.splice(1,1),this.position=this.history.length-1,this.holdState=null,Promise.resolve(t)}),400),undo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.position>=0){var t=this.history[this.position];L[t.command].undo(this,t.prevState),e.silent||(this.position-=1)}},redo(){if(this.position<this.history.length-1){this.position+=1;var e=this.history[this.position];L[e.command].execute(this,e.state)}},execute(e){var{command:t,state:o={},options:r={}}=e;return new Promise((e=>{var l=L[t].execute(this,o);r.skipHistory||(r.lazy?(this.holdState||(this.holdState=l),this.setLazy({command:t,state:o}).then((t=>{e({state:o,prevState:t})}))):(this.set({command:t,state:o,prevState:l}),e({state:o,prevState:l})))}))},reset(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.resetTimeTravel(),this.$store.dispatch("brandPalettes/setSelected",null),this.$nextTick((()=>{e?this.initEditor(e):this.initSVG()}))},resetTimeTravel(){this.position=-1,this.history=[],this.resetData()}}};function W(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function V(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?W(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):W(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var F=["use","g","path","polyline","polygon","circle","rect","circle","ellipse"],Z="fill",G="fill",U="data-name",K=["line","g","path","polygon","circle","rect","circle","ellipse"],Y=["stop"],X="stroke",J="svgShape",Q={monochromeHue:200,monochromeSaturation:100,showCustomSaturation:!1,grayToneHue:200,grayToneSaturation:10,tileColor:"#87ddfd",tileBorderRadius:20,tileSize:.7916,iconSize:.4652,tab:null,showTileTab:!1};t.a={mixins:[$.a,D],data:()=>V({draw:null,colors:[],icon:null,tile:null,tileType:{name:"none"},original:null,originalContent:null,originalWidth:null,originalHeight:null,selectedColorIndex:-1,selectedElement:null,selectedElementIndex:null,delBtnPosition:null,loadPickerOnCanvas:!1,listenForClickOut:!1,pickerWidth:256,pickerId:"onCanvasColorPicker",showUploadOption:!0,tiles:[{name:"none",icon:1,shape:null},{name:"square",icon:.4652,shape:.7916},{name:"squircle",icon:.4652,shape:.7916},{name:"circle",icon:.4652,shape:.9167},{name:"beacon",icon:.4652,shape:.9167}]},Q),computed:{color:{get(){return-1!==this.selectedColorIndex?this.colors[this.selectedColorIndex].hex:"#FFF"},set(e){this.execute({command:"fillColor",state:{color:e,index:this.selectedColorIndex},options:{lazy:!0}}).then((e=>{e&&this.$analytics.track("editor",{location:"item-colors",action:"edit-color",prevColor:e.prevState.color,editedColor:e.state.color.hex})}))}},selectedPalette(){return this.$store.getters["brandPalettes/selectedPalette"]}},beforeDestroy(){window.removeEventListener("keydown",this.onKeyDown)},mounted(){document.addEventListener("keydown",this.onKeyDown)},watch:{selectedColorIndex(e){-1===e&&(this.selectedElement=null)}},methods:{init(e){var t=arguments,o=this;return Object(r.a)((function*(){var r=t.length>1&&void 0!==t[1]?t[1]:"initNew";o.showUploadOption=!1,o.isLoading=r;var l=null;try{l=yield h()(e,{withCredentials:!1})}catch(e){var title="This file is having issue. Please report us.";throw o.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"}),o.$sentry.captureException({item_id:o.iconScoutItem?o.iconScoutItem.id:null,e:e}),new Error(title)}o.originalContent=l.data,o.original=yield Object(O.a)(o.originalContent),"fromSearch"===r&&o.resetTimeTravel(),o.initSVG()}))()},initEditor(content){var e=this;return Object(r.a)((function*(){e.originalContent=content,e.isLoading="initNew",e.tab=null,e.showTileTab=!1,e.showUploadOption=!1,e.original=yield Object(O.a)(content),e.initSVG()}))()},initSVG(){var e=this;this.draw&&this.draw.remove(),this.draw=T()(this.id),this.draw.size(this.canvasWidth,this.canvasHeight),this.icon=this.draw.group();var t=this.icon.svg(this.original);if(this.originalWidth=t.get(0).attr("width"),this.originalHeight=t.get(0).attr("height"),this.icon.select("svg").size(this.canvasWidth,this.canvasHeight),this.tileType=this.tiles[0],this.draw.each((function(){if(t!==this){var data=this.attr(U);data&&this.attr(U,f()(data))}}),!0),e.colors=[],this.draw.select(F).each((function(o){if(t!==this){var r=!1,l=this.attr("id");if(l&&"use"!==this.type){var c=e.draw.select("use");x()(c.members,(use=>{"#".concat(l)!==use.attr("xlink:href")||!use.attr(G)||"#000000"===use.attr(G).trim()&&"#000"===use.attr(G).trim()||(r=!0)}))}if("g"===this.type&&(this.attr(G)||this.attr(X)))this.children().forEach((e=>{e.attr(G)&&"#000000"===e.attr(G).trim()&&e.attr(G,"none"),e.attr(X)&&"#000000"!==e.attr(X).trim()&&e.attr(X,"none")}));if(!r){var h=null;if("g"!==this.type&&"use"!==this.type||!this.attr(G)||"#000000"!==this.attr(G).trim()?this.attr(G)&&"#000000"!==this.attr(G).trim()?h=this.attr(G):this.style(Z)?h=this.style(Z):this.attr(X)&&"#000000"!==this.attr(X).trim()||(h="#000"):h="none",m()(h)){this.style(Z,null),this.attr(G,h);var d=e.generateClassName(h);this.addClass(d),this.addClass(J),-1===S()(e.colors,{originalHex:h})&&e.colors.push({hex:h,lastHex:h,originalHex:h,className:d,element:"Shape"}),this.click((function(){e.selectColor(h)}))}this.click((function(t){var r=/^#?([0-9A-F]{3}){1,2}$/i.test(this.attr(G));"g"!==this.type&&r&&(e.$analytics.track("editor",{route_path:e.$route.path,route_name:e.$route.name,location:"canvas",action:"select-element"}),e.selectedElement=this,e.loadPickerOnCanvas=!0,e.listenForClickOut=!0,e.selectedElementIndex=o,e.$nextTick((()=>{setTimeout((()=>{var o=document.getElementById("IconscoutIconEditor"),r=document.getElementById(e.pickerId);o&&r&&(Object(n.a)(o,r,{placement:"bottom",modifiers:[{name:"offset",options:{offset:[t.offsetX-(o.clientWidth-e.pickerWidth)/2,-(o.clientHeight-t.offsetY)]}},{name:"flip",enabled:!1}]}),e.delBtnPosition={x:e.pickerWidth+5,y:0})}),10)})))}))}}}),!0),this.draw.select(K).each((function(){if(t!==this){var o=null;if(this.attr(X)&&"#000000"!==this.attr(X).trim()&&(o=this.attr(X)),m()(o)){var r=e.generateStrokeClassName(o);this.addClass(r),this.addClass("svgStroke"),-1===S()(e.colors,{originalHex:o,element:"Stroke"})&&e.colors.push({hex:o,lastHex:o,originalHex:o,className:r,element:"Stroke"})}}})),this.draw.select(Y).each((function(){if(t!==this){var o;if(o=this.attr("stop-color"),m()(o)){this.style(Z,null),this.attr("stop-color",o);var r=e.generateGradientClassName(o);this.addClass(r),this.addClass(J),-1===S()(e.colors,{originalHex:o,element:"StopColor"})&&e.colors.push({hex:o,lastHex:o,originalHex:o,className:r,element:"StopColor"})}}})),!this.colors.length)throw this.resetData(),this.showUploadOption=!0,new Error("This file is not supported.");S()(this.colors,{element:"StopColor"})>-1&&this.$analytics.track("editor",{type:"gradient",url:window.location.href,itemId:this.iconScoutItem?this.iconScoutItem.id:null}),this.initWithBrandColor&&this.selectedPalette&&!this.selectedPalette.is_default&&this.onApplyBrandPalette(this.selectedPalette),this.tab="re-color",this.urlState&&(this.execute({command:"reColor",state:{colors:this.urlState.colors},options:{skipHistory:!0}}),this.monochromeHue=this.urlState.monochromeHue,this.monochromeSaturation=this.urlState.monochromeSaturation,this.showCustomSaturation=this.urlState.showCustomSaturation,this.grayToneHue=this.urlState.grayToneHue,this.grayToneSaturation=this.urlState.grayToneSaturation,this.tileColor=this.urlState.tileColor,this.tileBorderRadius=this.urlState.tileBorderRadius,this.tileSize=this.urlState.tileSize,this.iconSize=this.urlState.iconSize,this.tileType=this.urlState.tileType,this.urlState.tab&&this.execute({command:"tab",state:{tab:this.urlState.tab},options:{skipHistory:!0}}),this.tab=this.urlState.tab,this.showTileTab=this.urlState.showTileTab,this.execute({command:"tileType",state:{tile:this.tile,tileType:V(V({},this.urlState.tileType),{},{icon:this.urlState.iconSize}),tileBorderRadius:this.tileBorderRadius,iconSize:this.iconSize,tileSize:this.tileSize},options:{skipHistory:!0}}),this.urlState.downloadItem&&this.onDownload({format:this.urlState.downloadItem[0],size:this.urlState.downloadItem[1]})),this.showSearchSidebar&&this.$nextTick((()=>{this.showSearchSidebar=!1})),this.isLoading=null},generateClassName:e=>"color"+e.replace(/[\W+]/g,""),generateStrokeClassName:e=>"colorStroke"+e.replace(/[\W+]/g,""),generateGradientClassName:e=>"stopColor"+e.replace(/[\W+]/g,""),fillShapeColor(e,t){this.draw.select("."+this.generateClassName(e)).fill(t)},fillStrokeColor(e,t){this.draw.select("."+this.generateStrokeClassName(e)).stroke(t)},fillStopColorColor(e,t){this.draw.select("."+this.generateGradientClassName(e)).attr({"stop-color":t})},selectColor(e){this.selectedColorIndex=S()(this.colors,{originalHex:e})},resetData(){k()(Q,((e,t)=>{this[t]=Q[t]}))},onKeyDown(e){(this.$device.isMacOS?"Backspace"===e.key:"Delete"===e.key||"Del"===e.key)&&this.onRemoveSelectedElement("keyboard")},onRemoveSelectedElement(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"click";this.execute({command:"deleteElement",state:{element:this.selectedElement,index:this.selectedElementIndex,fillElements:F}}).then((t=>{t&&(this.selectedElement=null,this.loadPickerOnCanvas=!1,this.listenForClickOut=!1,this.$analytics.track("editor",{route_path:this.$route.path,route_name:this.$route.name,location:"canvas",action:"delete-element",data:{via:e}}))}))},onChangeTab(e){this.execute({command:"tab",state:{tab:e}})},onToggleTileTab(){this.execute({command:"tileTab",state:{tab:null,showTileTab:!this.showTileTab}})},onChangeTileType(e){this.execute({command:"tileType",state:{tile:this.tile,tileType:e,tileBorderRadius:this.tileBorderRadius,iconSize:this.iconSize,tileSize:this.tileSize}})},onChangeTileSize(e){this.execute({command:"tileSize",state:{scale:Number(e)},options:{lazy:!0}}).then((e=>{e&&this.$analytics.track("editor",{location:"add-tile",action:"edit-tile-size",scale:e.state.scale})}))},onChangeTileBorderRadius(e){this.execute({command:"tileBorderRadius",state:{radius:Number(e)},options:{lazy:!0}}).then((e=>{e&&this.$analytics.track("editor",{location:"add-tile",action:"edit-border-radius",radius:e.state.radius})}))},onChangeTileColor(e){this.execute({command:"tileColor",state:{color:e.color},options:{lazy:!0}}).then((t=>{t&&this.$analytics.track("editor",{location:"add-tile",action:"edit-tile-color",color:t.state.color,via:e.via})}))},onChangeIconSize(e){this.execute({command:"iconSize",state:{scale:Number(e)},options:{lazy:!0}}).then((e=>{e&&this.$analytics.track("editor",{location:"add-tile",action:"edit-icon-size",scale:e.state.scale})}))},onChangeMonochromeHue(e){this.execute({command:"monochrome",state:{hue:Number(e.hue),showCustomSaturation:this.showCustomSaturation,saturation:this.monochromeSaturation},options:{lazy:!0}}).then((t=>{t&&this.$analytics.track("editor",{location:"monochrome",action:"edit-hue",hue:t.state.hue,via:e.via})}))},onToggleCustomSaturation(){this.execute({command:"toggleMonochromeSaturation",state:{showCustomSaturation:this.showCustomSaturation}})},onChangeMonochromeSaturation(e){this.execute({command:"monochrome",state:{hue:this.monochromeHue,showCustomSaturation:this.showCustomSaturation,saturation:Number(e)},options:{lazy:!0}}).then((e=>{e&&this.$analytics.track("editor",{location:"monochrome",action:"edit-saturation",saturation:e.state.saturation})}))},onChangeGrayToneHue(e){this.execute({command:"grayTone",state:{hue:Number(e.hue),saturation:this.grayToneSaturation},options:{lazy:!0}}).then((t=>{t&&this.$analytics.track("editor",{location:"grayTone",action:"edit-hue",hue:t.state.hue,via:e.via})}))},onChangeGrayToneSaturation(e){this.execute({command:"grayTone",state:{hue:this.grayToneHue,saturation:Number(e)},options:{lazy:!0}}).then((e=>{e&&this.$analytics.track("editor",{location:"grayTone",action:"edit-saturation",saturation:e.state.saturation})}))},onApplyBrandPalette(e){this.execute({command:"brandPalette",state:{palette:e}})},onResetBrandColors(){this.execute({command:"resetBrandPalette"})},onApplyColorsinspo(e){this.history.length&&"colorsinspo"===this.history[this.history.length-1].command&&this.history[this.history.length-1].state.palette.id===e.id||this.execute({command:"colorsinspo",state:{palette:e}})},download(e,t,o){var l=arguments,n=this;return Object(r.a)((function*(){var r=l.length>3&&void 0!==l[3]?l[3]:0,c=l.length>4&&void 0!==l[4]?l[4]:null,d=l.length>5&&void 0!==l[5]?l[5]:"icon",m=l.length>6&&void 0!==l[6]&&l[6];try{var v=Object(_.c)("/api/v2/icon-editor"),f=yield h.a.post(v,{xml:e,name:t,format:o,width:r,height:r,item_id:c,asset:d,source:"web"});if(n.iconScoutItem&&!m&&Object(z.a)(V({uuid:n.iconScoutItem.uuid,format:o,licenseId:n.iconScoutItem.license_id,size:r},n.$store.getters["brandPalettes/selectedPalette"]&&{brandPaletteId:n.$store.getters["brandPalettes/selectedPalette"].id})),"base64"===o)return Object(H.a)(f.data.response.url);if(m)return f.data.response.url;window.location.href=f.data.response.download_url}catch(e){console.log(e)}}))()}}}},2722:function(e,t,o){var r=o(573)(o(2975));e.exports=r},2975:function(e,t,o){var r=o(531),l=o(245),n=o(526),c=Math.max,h=Math.min;e.exports=function(e,t,o){var d=null==e?0:e.length;if(!d)return-1;var m=d-1;return void 0!==o&&(m=n(o),m=o<0?c(d+m,0):h(m,d-1)),r(e,l(t,3),m,!0)}},3401:function(e,t,o){e.exports=o.p+"img/exclusive-badge.55365ec.svg"},3430:function(e,t,o){"use strict";var r=o(3668).a,l=o(8),component=Object(l.a)(r,(function(){var e=this,t=e._self._c;return t("div",[e.isLoading?t("loader",{attrs:{width:200,height:200}}):e._e(),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],attrs:{id:e.id},on:{click:e.onLargePreview}})],1)}),[],!1,null,null,null);t.a=component.exports},3668:function(e,t,o){"use strict";(function(e){var r=o(5),l=(o(43),o(27),o(38),o(29),o(89),o(1236)),n=o(1314),c=o(1216),h=o(2647);t.a={components:{Loader:n.default},mixins:[c.a,h.a],props:{item:{type:Object,default:()=>{}},size:{type:Number,default:256}},data:()=>({initiatedWithBrandColor:!1,isLoading:!0,disableTimeTravel:!0}),computed:{id(){return"pdpColorEditor-".concat(this.item.id)},canvasWidth(){return this.size},canvasHeight(){return this.size},selectedBrandPalette(){return this.$store.getters["brandPalettes/selectedPalette"]},currentModal(){return this.$modal&&this.$modal.currentModal?this.$modal.currentModal.id:null}},watch:{currentModal(e,t){["modalEditIcon","modalItemPreview",null].includes(e)&&["modalEditIcon","modalItemPreview",null].includes(t)&&(this.unsubscribe?this.stopWatch():(this.onPaletteSelected(),this.startWatch()))}},created(){this.startWatch()},mounted(){var e=this;return Object(r.a)((function*(){try{yield e.init("icon"===e.item.asset?e.item.urls.original:e.item.urls.svg),e.selectedBrandPalette&&(e.apply(),e.initiatedWithBrandColor=!0)}catch(e){console.error(e)}finally{e.isLoading=!1}}))()},methods:{onPalettesLoaded(){!this.initiatedWithBrandColor&&this.selectedBrandPalette&&this.apply()},onPaletteSelected(){this.selectedBrandPalette?this.apply():this.$nextTick((()=>{this.initSVG()}))},apply(){var e=Object(l.b)(this.colors.map((e=>e.originalHex)),this.selectedBrandPalette.colors);this.colors.forEach(((t,o)=>{this["fill".concat(t.element,"Color")](this.colors[o].originalHex,e[o]),this.colors[o].hex=e[o]}))},onLargePreview(){"illustration"===this.item.asset&&this.$modal.open({id:"modalItemPreviewFs",component:Promise.all([o.e(0),o.e(354)]).then(o.bind(null,3912)),props:{item:this.item,brandPreview:"data:image/svg+xml;base64,".concat(e.from(this.getPureSVGContent()).toString("base64")),selectedPreviewIndex:this.selectedPreviewIndex},options:{modalOnModal:!0}})},getPureSVGContent(){var e=(new DOMParser).parseFromString(this.icon.get(0).svg(),"image/svg+xml"),t=e.getElementsByTagName("svg")[0];return this.originalWidth?t.setAttribute("width",this.originalWidth):t.removeAttribute("width"),this.originalHeight?t.setAttribute("height",this.originalHeight):t.removeAttribute("height"),e.documentElement.outerHTML}}}}).call(this,o(522).Buffer)}}]);
